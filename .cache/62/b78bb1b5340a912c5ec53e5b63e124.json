{"id":"Focm","dependencies":[{"name":"/workspace/serviceworker2/package.json","includedInParent":true,"mtime":1581951768329},{"name":"./doWork2.js","dynamic":true,"resolved":"/workspace/serviceworker2/doWork2.js","isolated":true,"loc":{"line":1,"column":24},"parent":"/workspace/serviceworker2/index.js"},{"name":"/workspace/serviceworker2/sw.js","dynamic":true,"resolved":"/workspace/serviceworker2/sw.js","entry":true,"isolated":true,"loc":{"line":62,"column":35},"parent":"/workspace/serviceworker2/index.js"}],"generated":{"js":"var e=new Worker(\"/3e0b44be3fba9c62fc0e7b0507014610.js\");e.addEventListener(\"message\",function(e){console.log(\"Worker said: \",e.data)},!1),e.postMessage(\"Hello World\"),document.getElementById(\"app\").innerHTML='\\n<h1>Hello Vanilla!</h1>\\n<div>\\n  We use Parcel to bundle this sandbox, you can find more info about Parcel\\n  <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\\n</div>\\n',\"serviceWorker\"in navigator&&(navigator.serviceWorker.addEventListener(\"message\",function(e){if(\"cmd\"in e.data)switch(e.data.cmd){case\"response\":console.log(\"[ServiceWorker Response]: \",e.data.data)}}),setInterval(function(){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({cmd:\"executa-funcao\"})},1e3),navigator.serviceWorker.register(\"/36a6321ccec60e74fcb19c8b57d29b8d.js\",{scope:\"/\"}).then(function(e){console.log(\"[Register ServiceWorker] We are live ðŸš€ !\")}).catch(function(e){console.warn(\"service worker failed\",e)}));"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"index.js","name":"worker","original":{"line":1,"column":4},"generated":{"line":1,"column":4}},{"source":"index.js","original":{"line":1,"column":13},"generated":{"line":1,"column":6}},{"source":"index.js","name":"Worker","original":{"line":1,"column":17},"generated":{"line":1,"column":10}},{"source":"index.js","original":{"line":1,"column":24},"generated":{"line":1,"column":17}},{"source":"index.js","name":"worker","original":{"line":3,"column":0},"generated":{"line":1,"column":57}},{"source":"index.js","name":"addEventListener","original":{"line":3,"column":7},"generated":{"line":1,"column":59}},{"source":"index.js","original":{"line":3,"column":24},"generated":{"line":1,"column":76}},{"source":"index.js","original":{"line":3,"column":35},"generated":{"line":1,"column":86}},{"source":"index.js","name":"e","original":{"line":3,"column":45},"generated":{"line":1,"column":95}},{"source":"index.js","name":"console","original":{"line":4,"column":2},"generated":{"line":1,"column":98}},{"source":"index.js","name":"log","original":{"line":4,"column":10},"generated":{"line":1,"column":106}},{"source":"index.js","original":{"line":4,"column":14},"generated":{"line":1,"column":110}},{"source":"index.js","name":"e","original":{"line":4,"column":31},"generated":{"line":1,"column":126}},{"source":"index.js","name":"data","original":{"line":4,"column":33},"generated":{"line":1,"column":128}},{"source":"index.js","original":{"line":5,"column":3},"generated":{"line":1,"column":136}},{"source":"index.js","name":"worker","original":{"line":7,"column":0},"generated":{"line":1,"column":139}},{"source":"index.js","name":"postMessage","original":{"line":7,"column":7},"generated":{"line":1,"column":141}},{"source":"index.js","original":{"line":7,"column":19},"generated":{"line":1,"column":153}},{"source":"index.js","name":"document","original":{"line":10,"column":0},"generated":{"line":1,"column":168}},{"source":"index.js","name":"getElementById","original":{"line":10,"column":9},"generated":{"line":1,"column":177}},{"source":"index.js","original":{"line":10,"column":24},"generated":{"line":1,"column":192}},{"source":"index.js","name":"innerHTML","original":{"line":10,"column":31},"generated":{"line":1,"column":199}},{"source":"index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":209}},{"source":"index.js","original":{"line":40,"column":4},"generated":{"line":1,"column":417}},{"source":"index.js","name":"navigator","original":{"line":40,"column":23},"generated":{"line":1,"column":435}},{"source":"index.js","name":"navigator","original":{"line":42,"column":2},"generated":{"line":1,"column":447}},{"source":"index.js","name":"serviceWorker","original":{"line":42,"column":12},"generated":{"line":1,"column":457}},{"source":"index.js","name":"addEventListener","original":{"line":42,"column":26},"generated":{"line":1,"column":471}},{"source":"index.js","original":{"line":42,"column":43},"generated":{"line":1,"column":488}},{"source":"index.js","original":{"line":42,"column":54},"generated":{"line":1,"column":498}},{"source":"index.js","name":"event","original":{"line":42,"column":54},"generated":{"line":1,"column":507}},{"source":"index.js","original":{"line":43,"column":8},"generated":{"line":1,"column":510}},{"source":"index.js","original":{"line":43,"column":8},"generated":{"line":1,"column":513}},{"source":"index.js","name":"event","original":{"line":43,"column":17},"generated":{"line":1,"column":521}},{"source":"index.js","name":"data","original":{"line":43,"column":23},"generated":{"line":1,"column":523}},{"source":"index.js","name":"command","original":{"line":45,"column":14},"generated":{"line":1,"column":528}},{"source":"index.js","name":"event","original":{"line":44,"column":20},"generated":{"line":1,"column":535}},{"source":"index.js","name":"data","original":{"line":44,"column":26},"generated":{"line":1,"column":537}},{"source":"index.js","name":"cmd","original":{"line":44,"column":31},"generated":{"line":1,"column":542}},{"source":"index.js","original":{"line":46,"column":13},"generated":{"line":1,"column":547}},{"source":"index.js","original":{"line":46,"column":13},"generated":{"line":1,"column":551}},{"source":"index.js","name":"console","original":{"line":47,"column":10},"generated":{"line":1,"column":562}},{"source":"index.js","name":"log","original":{"line":47,"column":18},"generated":{"line":1,"column":570}},{"source":"index.js","original":{"line":47,"column":22},"generated":{"line":1,"column":574}},{"source":"index.js","name":"event","original":{"line":47,"column":52},"generated":{"line":1,"column":603}},{"source":"index.js","name":"data","original":{"line":47,"column":58},"generated":{"line":1,"column":605}},{"source":"index.js","name":"data","original":{"line":47,"column":63},"generated":{"line":1,"column":610}},{"source":"index.js","name":"setInterval","original":{"line":53,"column":2},"generated":{"line":1,"column":619}},{"source":"index.js","original":{"line":53,"column":14},"generated":{"line":1,"column":631}},{"source":"index.js","name":"navigator","original":{"line":54,"column":8},"generated":{"line":1,"column":642}},{"source":"index.js","name":"serviceWorker","original":{"line":54,"column":18},"generated":{"line":1,"column":652}},{"source":"index.js","name":"controller","original":{"line":54,"column":32},"generated":{"line":1,"column":666}},{"source":"index.js","name":"navigator","original":{"line":55,"column":6},"generated":{"line":1,"column":678}},{"source":"index.js","name":"serviceWorker","original":{"line":55,"column":16},"generated":{"line":1,"column":688}},{"source":"index.js","name":"controller","original":{"line":55,"column":30},"generated":{"line":1,"column":702}},{"source":"index.js","name":"postMessage","original":{"line":55,"column":41},"generated":{"line":1,"column":713}},{"source":"index.js","original":{"line":55,"column":53},"generated":{"line":1,"column":725}},{"source":"index.js","name":"cmd","original":{"line":56,"column":8},"generated":{"line":1,"column":726}},{"source":"index.js","original":{"line":56,"column":13},"generated":{"line":1,"column":730}},{"source":"index.js","original":{"line":59,"column":5},"generated":{"line":1,"column":750}},{"source":"index.js","name":"navigator","original":{"line":62,"column":2},"generated":{"line":1,"column":755}},{"source":"index.js","name":"serviceWorker","original":{"line":62,"column":12},"generated":{"line":1,"column":765}},{"source":"index.js","name":"register","original":{"line":62,"column":26},"generated":{"line":1,"column":779}},{"source":"index.js","original":{"line":62,"column":35},"generated":{"line":1,"column":788}},{"source":"index.js","original":{"line":62,"column":45},"generated":{"line":1,"column":827}},{"source":"index.js","name":"scope","original":{"line":63,"column":4},"generated":{"line":1,"column":828}},{"source":"index.js","original":{"line":63,"column":11},"generated":{"line":1,"column":834}},{"source":"index.js","name":"then","original":{"line":64,"column":5},"generated":{"line":1,"column":840}},{"source":"index.js","original":{"line":64,"column":10},"generated":{"line":1,"column":845}},{"source":"index.js","name":"register","original":{"line":64,"column":10},"generated":{"line":1,"column":854}},{"source":"index.js","name":"console","original":{"line":65,"column":4},"generated":{"line":1,"column":857}},{"source":"index.js","name":"log","original":{"line":65,"column":12},"generated":{"line":1,"column":865}},{"source":"index.js","original":{"line":65,"column":16},"generated":{"line":1,"column":869}},{"source":"index.js","name":"catch","original":{"line":66,"column":5},"generated":{"line":1,"column":916}},{"source":"index.js","original":{"line":66,"column":11},"generated":{"line":1,"column":922}},{"source":"index.js","name":"e","original":{"line":66,"column":11},"generated":{"line":1,"column":931}},{"source":"index.js","name":"console","original":{"line":67,"column":4},"generated":{"line":1,"column":934}},{"source":"index.js","name":"warn","original":{"line":67,"column":12},"generated":{"line":1,"column":942}},{"source":"index.js","original":{"line":67,"column":17},"generated":{"line":1,"column":947}},{"source":"index.js","name":"e","original":{"line":67,"column":42},"generated":{"line":1,"column":971}}],"sources":{"index.js":"var worker = new Worker('doWork2.js');\n\nworker.addEventListener('message', function (e) {\n  console.log('Worker said: ', e.data);\n}, false);\n\nworker.postMessage('Hello World'); // Send data to our worker.\n\n\ndocument.getElementById(\"app\").innerHTML = `\n<h1>Hello Vanilla!</h1>\n<div>\n  We use Parcel to bundle this sandbox, you can find more info about Parcel\n  <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\n</div>\n`;\n\n// https://www.html5rocks.com/pt/tutorials/workers/basics/ >> WEBWORKER\n\n// REGISTRO DO SW\n\n//if (\"serviceWorker\" in navigator) {\n//  window.addEventListener(\"load\", function() {\n//    navigator.serviceWorker.register(\"sw.js\").then(\n//      function(registration) {\n//        // Registration was successful\n//        console.log(\n//          \"ServiceWorker registration successful with scope: \",\n//          registration.scope\n//       );\n//      },\n//      function(err) {\n//        // registration failed :(\n//       console.log(\"ServiceWorker registration failed: \", err);\n//      }\n//    );\n//  });\n//}\n\nif ('serviceWorker' in navigator) {\n  // observe messages\n  navigator.serviceWorker.addEventListener('message', event => {\n    if ('cmd' in event.data) {\n      let command = event.data.cmd\n      switch (command) {\n        case 'response':\n          console.log('[ServiceWorker Response]: ', event.data.data)\n          break\n      }\n    }\n  })\n  // simple lÃ³gic\n  setInterval(() => {\n    if (navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage({\n        cmd: 'executa-funcao'\n      })\n    }\n  }, 1000) // every 5 seconds\n\n  // register\n  navigator.serviceWorker.register('/sw.js', {\n    scope: '/'\n  }).then(register => {\n    console.log('[Register ServiceWorker] We are live ðŸš€ !')\n  }).catch(e => {\n    console.warn('service worker failed', e)\n  })\n}"},"lineCount":null}},"error":null,"hash":"5797f33b954b049674826e3c952de3e6","cacheData":{"env":{}}}