{"version":3,"sources":["index.js"],"names":["worker","Worker","addEventListener","e","console","log","data","postMessage","document","getElementById","innerHTML","navigator","serviceWorker","event","command","cmd","setInterval","controller","register","scope","then","catch","warn"],"mappings":";AAAA,IAAIA,EAAS,IAAIC,OAAO,wCAExBD,EAAOE,iBAAiB,UAAW,SAAUC,GAC3CC,QAAQC,IAAI,gBAAiBF,EAAEG,QAC9B,GAEHN,EAAOO,YAAY,eAGnBC,SAASC,eAAe,OAAOC,UAQ/B,gNAsBI,kBAAmBC,YAErBA,UAAUC,cAAcV,iBAAiB,UAAW,SAAAW,GAC9C,GAAA,QAASA,EAAMP,KAETQ,OADMD,EAAMP,KAAKS,KAElB,IAAA,WACHX,QAAQC,IAAI,6BAA8BQ,EAAMP,KAAKA,SAM7DU,YAAY,WACNL,UAAUC,cAAcK,YAC1BN,UAAUC,cAAcK,WAAWV,YAAY,CAC7CQ,IAAK,oBAGR,KAGHJ,UAAUC,cAAcM,SAAS,uCAAU,CACzCC,MAAO,MACNC,KAAK,SAAAF,GACNd,QAAQC,IAAI,+CACXgB,MAAM,SAAAlB,GACPC,QAAQkB,KAAK,wBAAyBnB","file":"serviceworker2.37075f6e.js","sourceRoot":"..","sourcesContent":["var worker = new Worker('doWork2.js');\n\nworker.addEventListener('message', function (e) {\n  console.log('Worker said: ', e.data);\n}, false);\n\nworker.postMessage('Hello World'); // Send data to our worker.\n\n\ndocument.getElementById(\"app\").innerHTML = `\n<h1>Hello Vanilla!</h1>\n<div>\n  We use Parcel to bundle this sandbox, you can find more info about Parcel\n  <a href=\"https://parceljs.org\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.\n</div>\n`;\n\n// https://www.html5rocks.com/pt/tutorials/workers/basics/ >> WEBWORKER\n\n// REGISTRO DO SW\n\n//if (\"serviceWorker\" in navigator) {\n//  window.addEventListener(\"load\", function() {\n//    navigator.serviceWorker.register(\"sw.js\").then(\n//      function(registration) {\n//        // Registration was successful\n//        console.log(\n//          \"ServiceWorker registration successful with scope: \",\n//          registration.scope\n//       );\n//      },\n//      function(err) {\n//        // registration failed :(\n//       console.log(\"ServiceWorker registration failed: \", err);\n//      }\n//    );\n//  });\n//}\n\nif ('serviceWorker' in navigator) {\n  // observe messages\n  navigator.serviceWorker.addEventListener('message', event => {\n    if ('cmd' in event.data) {\n      let command = event.data.cmd\n      switch (command) {\n        case 'response':\n          console.log('[ServiceWorker Response]: ', event.data.data)\n          break\n      }\n    }\n  })\n  // simple lÃ³gic\n  setInterval(() => {\n    if (navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage({\n        cmd: 'executa-funcao'\n      })\n    }\n  }, 1000) // every 5 seconds\n\n  // register\n  navigator.serviceWorker.register('/sw.js', {\n    scope: '/'\n  }).then(register => {\n    console.log('[Register ServiceWorker] We are live ðŸš€ !')\n  }).catch(e => {\n    console.warn('service worker failed', e)\n  })\n}"]}